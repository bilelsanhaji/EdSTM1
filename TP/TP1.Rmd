---
title: "Économétrie des Séries Temporelles"
author: "Fiche TD `R` #1"
date: "Analyse de Séries Temporelles et Propriétés Stochastiques"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = TRUE,
  error = TRUE,
  fig.width = 10, 
  fig.height = 5,
  dpi = 600,
  fig.keep ="last",
  message = FALSE,
  warning = FALSE,
  results = "markup"
)
```

### Packages

```{r bibliotheques}
library(readr)
library(zoo)
library(astsa)
```

### Données

Nice : <https://github.com/bilelsanhaji/EdSTM1/blob/main/Data/SH_MIN006088001.csv>

Paris : <https://github.com/bilelsanhaji/EdSTM1/blob/main/Data/SH_MIN175114001.csv>

### Exercice 1

Donnez une représentation graphique des données d'insolation de Nice et Paris. Incluez graphiquement les moyennes respectives à l'aide de la fonction `abline()`.

Tout d'abord, un chunk pour le chargement des données :

```{r importation_InsoNice_InsoParis, echo=TRUE}
InsoNice <- read_delim("~/My Drive/Projets/P8 Cours/2024-2025/S2/M1 79.5 - Econometrie des Series Temporelles/EdST M1 MBFA/EdSTgit/Data/SH_MIN006088001.csv", # "chemin d'acces aux donnees"
    delim = ";", escape_double = FALSE, col_types = cols(YYYYMM = col_date(format = "%Y%m")), 
    comment = "#", trim_ws = TRUE)

InsoParis <- read_delim("~/My Drive/Projets/P8 Cours/2024-2025/S2/M1 79.5 - Econometrie des Series Temporelles/EdST M1 MBFA/EdSTgit/Data/SH_MIN175114001.csv", # "chemin d'acces aux donnees"
    delim = ";", escape_double = FALSE, col_types = cols(YYYYMM = col_date(format = "%Y%m")), 
    comment = "#", trim_ws = TRUE)
```

```{r graphique_inso, fig.keep='last'}
Nice = InsoNice$VALEUR
ts_Nice <- zoo(InsoNice$VALEUR, order.by = InsoNice$YYYYMM)
# ou 
NiceDate = InsoNice$YYYYMM


Paris = InsoParis$VALEUR
ts_Paris <- zoo(InsoParis$VALEUR, order.by = InsoParis$YYYYMM)
# ou 
ParisDate = InsoParis$YYYYMM


moyenne_Nice <- mean(ts_Nice) 
moyenne_Paris <- mean(ts_Paris)

par(mfrow=c(2,1)) 

tsplot(ts_Nice,
     main = "Durées d'insolation (Nice)",
     xlab = "Années",
     ylab = "Heures et 1/10",
     col = "darkblue")
abline(h = moyenne_Nice, col = "blue", lty = 3, lwd = 2)

tsplot(ts_Paris, 
       main = "Durées d'insolation (Paris)", 
       xlab = "Années",
       ylab = "Heures et 1/10",
       col = "darkblue")
abline(h = moyenne_Paris, col = "red", lty = 3, lwd = 2)
```

<br>

\bigskip\bigskip

### Exercice 2  

Simulez un processus complètement aléatoire de 51 observations avec des valeurs indépendantes pour ces "distributions" :

    (a) $\mathsf{WN}$
    (b) $\mathcal{N}(0,1)$
    (c) $\chi^2_2$
    (d) $t_5$

Tracez le graphique de la série temporelle. Cela semble-t-il « aléatoire » ? Répétez cet exercice plusieurs fois avec une nouvelle simulation à chaque fois.

```{r, fig.keep='all'}
par(mfrow=c(2,2)) 
tsplot(runif(100), main="White Noise") 
tsplot(rnorm(51), main = "Normale") 
tsplot(rchisq(51, 2), main = "Chi-deux") 
tsplot(rt(51, 5), main = "Student") 
#plot(rnorm(51), type='l') 
#plot(as.ts(rnorm(51)))
 
```

